<link rel="stylesheet" href="https://mosberg.github.io/src/styles/themes.css" />

<div class="theme-selector" role="region" aria-labelledby="themeSelectorHeader">
  <label for="themeSelectEl">Choose a theme:</label>
  <select id="themeSelectEl" aria-describedby="themeDescriptionEl">
    <option value="dark" data-desc="Dimmed elegance üåë">Dark</option>
    <option value="light" data-desc="Bright & clean ‚òÄÔ∏è">Light</option>
    <option value="cosmic" data-desc="Galactic glow üåå">Cosmic</option>
    <option value="forest" data-desc="Earthy calm üå≤">Forest</option>
    <option value="frost" data-desc="Cool & crisp ‚ùÑÔ∏è">Frost</option>
    <option value="matrix" data-desc="Digital green üíª">Matrix</option>
    <option value="ocean" data-desc="Deep blue üåä">Ocean</option>
    <option value="retro" data-desc="Old-school vibes üïπÔ∏è">Retro</option>
    <option value="sunset" data-desc="Warm twilight üåá">Sunset</option>
  </select>

  <button id="resetThemeEl">‚ôªÔ∏è Reset</button>
  <p id="themeDescriptionEl" class="theme-desc" aria-live="polite"></p>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const select = document.getElementById("themeSelectEl");
    const desc = document.getElementById("themeDescriptionEl");
    const resetBtn = document.getElementById("resetThemeEl");
    const defaultTheme = "dark";

    const applyTheme = (theme) => {
      document.documentElement.setAttribute("data-theme", theme);
      localStorage.setItem("homepageTheme", theme);
      const selected = select.querySelector(`option[value="${theme}"]`);
      desc.textContent = selected?.dataset.desc || "";
      select.value = theme;
    };

    const savedTheme = localStorage.getItem("homepageTheme") || defaultTheme;
    applyTheme(savedTheme);

    select.addEventListener("change", (e) => applyTheme(e.target.value));
    resetBtn.addEventListener("click", () => {
      localStorage.removeItem("homepageTheme");
      applyTheme(defaultTheme);
    });

    select.addEventListener("input", () => {
      const selected = select.options[select.selectedIndex];
      desc.textContent = selected?.dataset.desc || "";
    });
  });
</script>


<style>
  .theme-selector {
    display: inline-block;
    margin: 1em;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    border: var(--second-border-color) var(--border-width) solid;
    border-radius: var(--border-radius);
    background-color: var(--second-bg-color);
    padding: 1.5em;
    color: var(--second-text-color);
    font-family: var(--font-family);
  }

  .theme-selector label,
  .theme-selector select,
  .theme-selector button {
    font-size: 1rem;
    font-family: inherit;
  }

  label {
    margin-inline-end: 0.5em;
    color: var(--second-text-color);
    font-weight: bold;
  }

  select,
  button {
    transition: background-color 0.2s ease, color 0.2s ease,
      border-color 0.2s ease;
    cursor: pointer;
    margin-inline-end: 0.5em;
    border: 1px solid var(--second-border-color);
    border-radius: 4px;
    background-color: var(--first-bg-color);
    padding: 0.5em 1em;
    color: var(--first-text-color);
  }

  select:hover,
  button:hover,
  select:focus,
  button:focus {
    outline: none;
    border-color: var(--accent-color);
    background-color: var(--accent-color);
    color: var(--first-button-text-color);
  }

  .theme-desc {
    margin-block-start: 0.5em;
    border: var(--second-border-color) var(--border-width) solid;
    border-radius: var(--border-radius);
    padding: 0.5em 1em;
    color: var(--second-text-color);
    font-weight: bold;
    font-size: 1em;
  }
</style>
